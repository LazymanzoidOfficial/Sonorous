<Window x:Class="SonorousDAB.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Sonorous"
        Height="600"
        Width="1000"
        WindowStartupLocation="CenterScreen" Icon="/Treetog-I-Audio-File.256.png" Background="#FF252525">



    <Grid>
        <!-- Columns: Sidebar + Main -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <!-- Sidebar -->
            <ColumnDefinition Width="769*"/>
            <ColumnDefinition Width="31*"/>
            <!-- Main content -->
        </Grid.ColumnDefinitions>

        <!-- Rows: Main content + Music player -->
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <!-- Main content -->
            <RowDefinition Height="Auto"/>
            <!-- Music player -->
        </Grid.RowDefinitions>

        <!-- 🎛️ Sidebar -->
        <DockPanel Grid.Column="0"
                   Background="#FF252525"
                   LastChildFill="True">

            <!-- Bottom-aligned auth section -->
            <StackPanel x:Name="authPanel"
                        DockPanel.Dock="Bottom"
                        Margin="0,10,0,10"
                        HorizontalAlignment="Center">
                <TextBlock x:Name="usernameLabel"
                           Text=""
                           FontWeight="SemiBold"
                           Foreground="Gray"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,5"/>
                <Button x:Name="authButton"
                        Content="Login"
                        Width="150"
                        Background="#007ACC"
Foreground="White"
FontWeight="SemiBold"
                        Click="AuthButton_Click" BorderBrush="#FF007ACC"/>
            </StackPanel>

            <!-- Top-aligned content -->
            <StackPanel DockPanel.Dock="Top"
                        HorizontalAlignment="Center"
                        Margin="0,20,0,0">
                <TextBlock Text="Sonorous"
                           FontWeight="Bold"
                           FontSize="16"
                           Margin="0,0,0,20" Foreground="White"/>
                <TextBlock Text="Powered by DABMusic"
           FontStyle="Italic"
           FontSize="10"
           Margin="0,0,0,5" Foreground="White"/>
                <TextBox x:Name="search"
                         Width="150"
                         Margin="0,0,0,10"
                         
                         KeyDown="search_KeyDown" Background="#FF3A3A3A" Foreground="White" BorderBrush="#FF3A3A3A"/>
                <Button Content="🔎 Search"
                        
                        Width="150"
                        Click="Button_Click"
                        Background="#007ACC"
Foreground="White"
FontWeight="SemiBold"
                        Margin="0,0,0,30" BorderBrush="#FF007ACC"/>
                <Button Content="📖 Library Coming Soon"
                        Width="150"
                        Click="Button_Click_1"
                        Background="#007ACC"
Foreground="White"
FontWeight="SemiBold"
                        Margin="0,0,0,10" BorderBrush="#FF007ACC"/>
                <Button Content="❤️ Favorites"
                        Width="150"
                        Click="FavButton_Click"
                        Background="#007ACC"
Foreground="White"
FontWeight="SemiBold"
                        Margin="0,0,0,10" BorderBrush="#FF007ACC"/>
            </StackPanel>
        </DockPanel>

        <!-- 🧩 Main content area -->
        <Grid Grid.Column="1" Grid.Row="0" Background="#FF252525" Grid.ColumnSpan="2">
            <ListBox x:Name="resultsList" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Margin="10,10,10,10" SelectionChanged="ResultsList_SelectionChanged" MouseDoubleClick="ResultsList_MouseDoubleClick" Background="#FF252525" BorderBrush="#FF252525">
                <ListBox.Resources>
                    <Style TargetType="ScrollBar">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="Transparent"/>
                        <Setter Property="BorderBrush" Value="Transparent"></Setter>
                    </Style>
                    <Style TargetType="Thumb">
                        <Setter Property="Background" Value="Transparent"/>
                    </Style>

                </ListBox.Resources>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="5">
                            <!-- Album Artwork -->
                            <Image Source="{Binding AlbumCover}" Width="70" Height="70" Margin="0,0,10,0"
                                   Stretch="UniformToFill"
                                   RenderOptions.BitmapScalingMode="HighQuality"/>

                            <!-- Track Info -->
                            <StackPanel>
                                <TextBlock Text="{Binding Title}" FontWeight="Bold" Foreground="White"/>
                                <TextBlock Text="{Binding Artist}" FontStyle="Italic" Foreground="White"/>
                                <TextBlock Text="{Binding ExplicitContent}" Foreground="White"/>
                                <TextBlock Text="{Binding AudioQualityDisplay}" Foreground="Gray"/>
                                <TextBlock Text="Hi-Res"
                                           Foreground="#C7AE00"
                                           FontWeight="Bold"
                                           Visibility="{Binding HiResVisibility}"/>
                               
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <!-- 🔄 Loading Overlay -->
            <Grid x:Name="loadingOverlay"
                  Background="#FF252525"
                  Visibility="Collapsed"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  IsHitTestVisible="False">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <ProgressBar IsIndeterminate="True" Width="150" Height="20"/>
                    <TextBlock Text="Loading..." FontWeight="SemiBold" Foreground="Gray" Margin="0,10,0,0" HorizontalAlignment="Center"/>
                    <TextBlock x:Name="loadingBlurb"
                               Text=""
                               FontStyle="Italic"
                               Foreground="#888"
                               Margin="0,5,0,0"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Grid>

        <!-- 🎶 Music Player Bar -->
        <Border Grid.Row="1"
        Background="#FF252525"
        Padding="10"
        BorderThickness="0.5"
        BorderBrush="#DDD" Grid.ColumnSpan="3">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Playback buttons -->
                    <RowDefinition Height="Auto"/>
                    <!-- Track info + volume + seekbar -->
                </Grid.RowDefinitions>

                <!-- ▶ Playback Buttons Centered -->
                <StackPanel HorizontalAlignment="Center" Margin="10,0,0,-20" VerticalAlignment="Center" Orientation="Horizontal">

                    <Button Content="⏮️"
                            Name="PrevTrack"
                            Background="#00007ACC"
                            Foreground="White"
                            FontWeight="SemiBold"
                            FontSize="15"
                            Width="30"
                            BorderBrush="#00707070" Margin="0,0,5,0"/>
                    <Button Name="PlayBtn" Content="▶" Width="30" Click="PlayButton_Click" FontSize="20" Background="White" Foreground="Black" FontWeight="SemiBold" BorderBrush="#00707070" Height="30" Margin="0,0,5,0"/>
                    <Button Content="⏭️"
                            Name="NextTrack"
                            Background="#00007ACC"
                            Foreground="White"
                            FontWeight="SemiBold"
                            FontSize="15"
                            Width="30" BorderBrush="#00707070"/>
                </StackPanel>


                <!-- 🎶 Bottom Row Layout -->
                <Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="45*"/>
                        <RowDefinition Height="5*"/>
                        <RowDefinition Height="11*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <!-- Album + track info -->
                        <ColumnDefinition Width="*"/>
                        <!-- Seekbar -->
                        <ColumnDefinition Width="Auto"/>
                        <!-- Volume slider -->
                    </Grid.ColumnDefinitions>

                    <!-- 🎨 Album + Track Info -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Top" Grid.RowSpan="3">
                        <Image x:Name="playerAlbumCover"
                       Width="60"
                       Height="60"
                       Margin="0,0,10,0"
                       Stretch="UniformToFill"
                       RenderOptions.BitmapScalingMode="HighQuality"/>
                        <StackPanel Orientation="Vertical" VerticalAlignment="Center" Width="200">
                            <TextBlock x:Name="playerTitle"
                               Text=""
                               FontWeight="Bold"
                               FontSize="14"
                               TextTrimming="CharacterEllipsis" Foreground="White"/>
                            <TextBlock x:Name="playerArtist"
                               Text=""
                               FontStyle="Italic"
                               FontSize="12"
                               Foreground="Gray"
                               TextTrimming="CharacterEllipsis"/>
                            <TextBlock x:Name="playerHiRes"
                               Text="Hi-Res"
                               Foreground="#C7AE00"
                               FontWeight="Bold"
                               FontSize="12"
                               Visibility="Collapsed"/>
                        </StackPanel>
                    </StackPanel>


                    <StackPanel
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Margin="-138,0,0,20" Orientation="Horizontal" Grid.Column="1" Grid.RowSpan="3" Grid.ColumnSpan="1">
                        <TextBlock x:Name="elapsedTime"
                   Text="0:00"
                   Margin="0,0,5,-16"
                   VerticalAlignment="Center"
                   Foreground="White"/>

                        <Slider x:Name="seekBar"
                Minimum="0"
                Maximum="100"
                Value="0"
                Width="300"
                Height="20"
                VerticalAlignment="Center"
                PreviewMouseDown="SeekBar_PreviewMouseDown"
                PreviewMouseUp="SeekBar_PreviewMouseUp" Margin="0,0,0,-15.1"/>

                        <TextBlock x:Name="totalTime"
                   Text="0:00"
                   Margin="5,0,0,-15"
                   VerticalAlignment="Center"
                   Foreground="White"/>
                    </StackPanel>

                    <!-- 🔊 Volume Slider -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Top" Margin="10,21,0,0">
                        <TextBlock Text="🔊" Margin="0,0,5,0" VerticalAlignment="Center" Foreground="White"/>
                        <Slider x:Name="volumeSlider"
                        Minimum="0"
                        Maximum="100"
                        Value="100"
                        Width="100"
                        TickFrequency="0.1"
                        IsSnapToTickEnabled="True"
                        ValueChanged="VolumeSlider_ValueChanged"
                        VerticalAlignment="Center"/>

                    </StackPanel>
                    <Label Name="VolPercent" Content="100%" Background="Transparent" Foreground="White" Grid.Column="2" Margin="0,0,0,20" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>
            </Grid>
        </Border>
        <!-- 🔊 Hidden MediaElement -->
        <MediaElement x:Name="mediaPlayer"
                      LoadedBehavior="Manual"
                      UnloadedBehavior="Stop"
                      Visibility="Collapsed" MediaOpened="mediaPlayer_MediaOpened" MediaEnded="mediaPlayer_MediaEnded"/>
    </Grid>
</Window>
    